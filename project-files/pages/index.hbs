{{#BaseRoute}}
  <div class="page">
    <h2 class="page__heading">Welcome to Adventure Story!</h2>
    {{#if currentUser}}
      <a class="button" href="/{{currentUser.details.username}}">Go to your stories</a>
    {{else}}
      <a class="button" href="/signup">Sign up!</a>
    {{/if}}
  </div>
{{/BaseRoute}}
{{#UsernameRoute}}
  <div
    class="page"
    data-o-type="object"
  >
    <h2 class="page__heading">Stories</h2>
    <div 
      data-o-key="stories"
      data-o-type="list"
    >
      {{#for storyListItem in data.stories}}
        <div
          data-o-key-id="{{storyListItem.id}}"
          data-o-type="object"
          data-l-key-name="a"
        >
          <a href="{{@root.pageAuthor.details.username}}/story/{{storyListItem.id}}">{{storyListItem.name}}</a>
          <button class="button" data-i-editable>Edit</button>
        </div>
      {{/for}}
    </div>
    <div class="flex justify-content--flex-end">
      <button 
        class="button"
        data-i-new="storyListItem"
      >Add Story</button>
    </div>
  </div>
{{/UsernameRoute}}